

<!DOCTYPE html>
<html lang="en" data-default-color-scheme=auto>



<head>
  <meta charset="UTF-8">
  <link rel="apple-touch-icon" sizes="76x76" href="/img/favicon.png">
  <link rel="icon" href="/img/favicon.png">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
  <meta name="theme-color" content="#2f4154">
  <meta name="author" content="Thm">
  <meta name="keywords" content="谭泓旻">
  
    <meta name="description" content="Chapter 4: Network Layer  Introduction 网络层负责将数据报从发送方主机传输到接收方主机，网络层协议存在于每台主机和路由器上，路由器将检查所有经过它的IP分组的分组头。 网络层的主要功能:  转发: 路由器将收到的分组移动到适当的输出链路。 选路: 决定分组从源端到目的端所经过的路径. 网络层还有第三种功能: 连接建立，但这只在某些网络体系结构上有所实现，在I">
<meta property="og:type" content="article">
<meta property="og:title" content="Computer Network Chapter 4">
<meta property="og:url" content="http://example.com/2022/05/28/Computer-Network-Chapter-4/index.html">
<meta property="og:site_name" content="Thm&#39;s blog">
<meta property="og:description" content="Chapter 4: Network Layer  Introduction 网络层负责将数据报从发送方主机传输到接收方主机，网络层协议存在于每台主机和路由器上，路由器将检查所有经过它的IP分组的分组头。 网络层的主要功能:  转发: 路由器将收到的分组移动到适当的输出链路。 选路: 决定分组从源端到目的端所经过的路径. 网络层还有第三种功能: 连接建立，但这只在某些网络体系结构上有所实现，在I">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="http://example.com/2022/05/28/Computer-Network-Chapter-4/service_model.svg">
<meta property="og:image" content="http://example.com/2022/05/28/Computer-Network-Chapter-4/router.svg">
<meta property="og:image" content="http://example.com/2022/05/28/Computer-Network-Chapter-4/input_port.svg">
<meta property="og:image" content="http://example.com/2022/05/28/Computer-Network-Chapter-4/max_prefix_match.svg">
<meta property="og:image" content="http://example.com/2022/05/28/Computer-Network-Chapter-4/switch_structure.svg">
<meta property="og:image" content="http://example.com/2022/05/28/Computer-Network-Chapter-4/output_port.svg">
<meta property="og:image" content="http://example.com/2022/05/28/Computer-Network-Chapter-4/input_port_queueing.png">
<meta property="og:image" content="http://example.com/2022/05/28/Computer-Network-Chapter-4/output_port_queueing.png">
<meta property="og:image" content="http://example.com/2022/05/28/Computer-Network-Chapter-4/ipv4_datagram.svg">
<meta property="og:image" content="http://example.com/2022/05/28/Computer-Network-Chapter-4/fragmentation.svg">
<meta property="og:image" content="http://example.com/2022/05/28/Computer-Network-Chapter-4/fragmentation_example.svg">
<meta property="og:image" content="http://example.com/2022/05/28/Computer-Network-Chapter-4/subnet_example.svg">
<meta property="og:image" content="http://example.com/2022/05/28/Computer-Network-Chapter-4/subnet_mask.svg">
<meta property="og:image" content="http://example.com/2022/05/28/Computer-Network-Chapter-4/subnet_cidr_example.svg">
<meta property="og:image" content="http://example.com/2022/05/28/Computer-Network-Chapter-4/Hierarchical_addressing.svg">
<meta property="og:image" content="http://example.com/2022/05/28/Computer-Network-Chapter-4/dhcp.svg">
<meta property="og:image" content="http://example.com/2022/05/28/Computer-Network-Chapter-4/icmp.svg">
<meta property="og:image" content="http://example.com/2022/05/28/Computer-Network-Chapter-4/ping.svg">
<meta property="og:image" content="http://example.com/2022/05/28/Computer-Network-Chapter-4/ping_example.png">
<meta property="og:image" content="http://example.com/2022/05/28/Computer-Network-Chapter-4/tracert.png">
<meta property="og:image" content="http://example.com/2022/05/28/Computer-Network-Chapter-4/ipv6_datagram.svg">
<meta property="og:image" content="http://example.com/2022/05/28/Computer-Network-Chapter-4/double_stack.svg">
<meta property="og:image" content="http://example.com/2022/05/28/Computer-Network-Chapter-4/tunnel.svg">
<meta property="og:image" content="http://example.com/2022/05/28/Computer-Network-Chapter-4/dijkstra.svg">
<meta property="og:image" content="http://example.com/2022/05/28/Computer-Network-Chapter-4/dijkstra_example.svg">
<meta property="og:image" content="http://example.com/2022/05/28/Computer-Network-Chapter-4/distance_vector_example.svg">
<meta property="og:image" content="http://example.com/2022/05/28/Computer-Network-Chapter-4/distance_vector_solution.svg">
<meta property="og:image" content="http://example.com/2022/05/28/Computer-Network-Chapter-4/ls_dv_comparation.svg">
<meta property="og:image" content="http://example.com/2022/05/28/Computer-Network-Chapter-4/bgp_example.svg">
<meta property="og:image" content="http://example.com/2022/05/28/Computer-Network-Chapter-4/rip.svg">
<meta property="og:image" content="http://example.com/2022/05/28/Computer-Network-Chapter-4/ospf.svg">
<meta property="og:image" content="http://example.com/2022/05/28/Computer-Network-Chapter-4/review1.svg">
<meta property="og:image" content="http://example.com/2022/05/28/Computer-Network-Chapter-4/review2.svg">
<meta property="og:image" content="http://example.com/2022/05/28/Computer-Network-Chapter-4/review3.svg">
<meta property="og:image" content="http://example.com/2022/05/28/Computer-Network-Chapter-4/review4.svg">
<meta property="og:image" content="http://example.com/2022/05/28/Computer-Network-Chapter-4/review5.svg">
<meta property="og:image" content="http://example.com/2022/05/28/Computer-Network-Chapter-4/review6.svg">
<meta property="og:image" content="http://example.com/2022/05/28/Computer-Network-Chapter-4/review7.svg">
<meta property="og:image" content="http://example.com/2022/05/28/Computer-Network-Chapter-4/review8.svg">
<meta property="article:published_time" content="2022-05-28T06:54:43.000Z">
<meta property="article:modified_time" content="2022-06-02T04:03:52.370Z">
<meta property="article:author" content="Thm">
<meta property="article:tag" content="Computer Network">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="http://example.com/2022/05/28/Computer-Network-Chapter-4/service_model.svg">
  
  
  <title>Computer Network Chapter 4 - Thm&#39;s blog</title>

  <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/css/bootstrap.min.css" />


  <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/github-markdown-css@4/github-markdown.min.css" />
  <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/hint.css@2/hint.min.css" />

  
    
    
      
      <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@10/styles/github-gist.min.css" />
    
  

  
    <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3/dist/jquery.fancybox.min.css" />
  


<!-- 主题依赖的图标库，不要自行修改 -->

<link rel="stylesheet" href="//at.alicdn.com/t/font_1749284_ba1fz6golrf.css">



<link rel="stylesheet" href="//at.alicdn.com/t/font_1736178_lbnruvf0jn.css">


<link  rel="stylesheet" href="/css/main.css" />

<!-- 自定义样式保持在最底部 -->


  <script id="fluid-configs">
    var Fluid = window.Fluid || {};
    var CONFIG = {"hostname":"example.com","root":"/","version":"1.8.14","typing":{"enable":true,"typeSpeed":70,"cursorChar":"_","loop":false},"anchorjs":{"enable":true,"element":"h1,h2,h3,h4,h5,h6","placement":"right","visible":"hover","icon":""},"progressbar":{"enable":true,"height_px":3,"color":"#29d","options":{"showSpinner":false,"trickleSpeed":100}},"copy_btn":true,"image_zoom":{"enable":true,"img_url_replace":["",""]},"toc":{"enable":true,"headingSelector":"h1,h2,h3,h4,h5,h6","collapseDepth":0},"lazyload":{"enable":true,"loading_img":"/img/loading.gif","onlypost":false,"offset_factor":2},"web_analytics":{"enable":false,"baidu":null,"google":null,"gtag":null,"tencent":{"sid":null,"cid":null},"woyaola":null,"cnzz":null,"leancloud":{"app_id":null,"app_key":null,"server_url":null,"path":"window.location.pathname","ignore_local":false}},"search_path":"/local-search.xml"};
  </script>
  <script  src="/js/utils.js" ></script>
  <script  src="/js/color-schema.js" ></script>
<meta name="generator" content="Hexo 6.1.0"></head>


<body>
  <header style="height: 70vh;">
    <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand" href="/">
      <strong>life and study balance</strong>
    </a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/">
                <i class="iconfont icon-home-fill"></i>
                Home
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/archives/">
                <i class="iconfont icon-archive-fill"></i>
                Archives
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/categories/">
                <i class="iconfont icon-category-fill"></i>
                Categories
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/tags/">
                <i class="iconfont icon-tags-fill"></i>
                Tags
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/about/">
                <i class="iconfont icon-user-fill"></i>
                About
              </a>
            </li>
          
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" target="_self" href="javascript:;" data-toggle="modal" data-target="#modalSearch" aria-label="Search">
              &nbsp;<i class="iconfont icon-search"></i>&nbsp;
            </a>
          </li>
        
        
          <li class="nav-item" id="color-toggle-btn">
            <a class="nav-link" target="_self" href="javascript:;" aria-label="Color Toggle">&nbsp;<i
                class="iconfont icon-dark" id="color-toggle-icon"></i>&nbsp;</a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

    <div class="banner" id="banner" parallax=true
         style="background: url('/img/banner.png') no-repeat center center;
           background-size: cover;">
      <div class="full-bg-img">
        <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0.3)">
          <div class="page-header text-center fade-in-up">
            <span class="h2" id="subtitle" title="Computer Network Chapter 4">
              
            </span>

            
              <div class="mt-3">
  
    <span class="post-meta mr-2">
      <i class="iconfont icon-author" aria-hidden="true"></i>
      Thm
    </span>
  
  
    <span class="post-meta">
      <i class="iconfont icon-date-fill" aria-hidden="true"></i>
      <time datetime="2022-05-28 14:54" pubdate>
        May 28, 2022 pm
      </time>
    </span>
  
</div>

<div class="mt-1">
  
    <span class="post-meta mr-2">
      <i class="iconfont icon-chart"></i>
      6.1k 字
    </span>
  

  
    <span class="post-meta mr-2">
      <i class="iconfont icon-clock-fill"></i>
      
      
      51 分钟
    </span>
  

  
  
</div>

            
          </div>

          
        </div>
      </div>
    </div>
  </header>

  <main>
    
      

<div class="container-fluid nopadding-x">
  <div class="row nomargin-x">
    <div class="d-none d-lg-block col-lg-2"></div>
    <div class="col-lg-8 nopadding-x-md">
      <div class="container nopadding-x-md" id="board-ctn">
        <div class="py-5" id="board">
          <article class="post-content mx-auto">
            <!-- SEO header -->
            <h1 style="display: none">Computer Network Chapter 4</h1>
            
              <p class="note note-info">
                
                  本文最后更新于：June 2, 2022 pm
                
              </p>
            
            <div class="markdown-body">
              <h1 id="chapter-4-network-layer"><a class="markdownIt-Anchor" href="#chapter-4-network-layer"></a> Chapter 4: Network Layer</h1>
<h2 id="introduction"><a class="markdownIt-Anchor" href="#introduction"></a> Introduction</h2>
<p>网络层负责将数据报从发送方主机传输到接收方主机，网络层协议存在于每台主机和路由器上，路由器将检查所有经过它的IP分组的分组头。<br />
网络层的主要功能:</p>
<ul>
<li>转发: 路由器将收到的分组移动到适当的输出链路。</li>
<li>选路: 决定分组从源端到目的端所经过的路径.<br />
网络层还有第三种功能: 连接建立，但这只在某些网络体系结构上有所实现，在Internet上并没有提供这种功能。</li>
</ul>
<p>网络服务模型:</p>
<ul>
<li>网络层为单个数据分组提供的服务:
<ol>
<li>确保交付</li>
<li>具有时延上界（不到40ms ）的确保交付</li>
</ol>
</li>
<li>网络层为分组的流提供的服务:
<ol>
<li>有序的分组递交</li>
<li>确保最小带宽</li>
<li>确保最大时延抖动<br />
**但是！**现在的因特网网络层并没有提供上述服务，因特网只提供了尽力而为的服务(实际上就是没有提供任何特定的服务)。<br />
<img src="service_model.svg" srcset="/img/loading.gif" lazyload alt="网络层服务模型" /></li>
</ol>
</li>
</ul>
<p>routing: 决定分组从源端到目的端所经过路径的过程。<br />
forwarding: 将分组从一个输入链路接口转移到适当输出链路接口的过程。</p>
<h2 id="principles-of-router"><a class="markdownIt-Anchor" href="#principles-of-router"></a> Principles of Router</h2>
<p>路由器的主要功能:</p>
<ul>
<li>运行路由算法(RIP, OSPF, BGP)，为选路服务</li>
<li>将分组从输入链路转发到适当的输出链路，转发服务<br />
<img src="router.svg" srcset="/img/loading.gif" lazyload alt="路由器" /><br />
由上图可以看到，路由器的工作原理就是将分组从输入链路根据转发表转发到输出链路。涉及到的问题主要就是路由表的更新、路由算法的运行和转发的实现。</li>
</ul>
<p>其中实现转发功能的我们称之为Data Plane(数据平面)，实现选路功能的我们称之为Control Plane(控制平面)。</p>
<h2 id="data-plane数据平面"><a class="markdownIt-Anchor" href="#data-plane数据平面"></a> Data Plane(数据平面)</h2>
<h3 id="router路由器"><a class="markdownIt-Anchor" href="#router路由器"></a> Router(路由器)</h3>
<h4 id="input-port"><a class="markdownIt-Anchor" href="#input-port"></a> Input Port</h4>
<p><img src="input_port.svg" srcset="/img/loading.gif" lazyload alt="输入端口" /><br />
输入端口从链路层拿到数据帧，通过缓存查询转发表后将其通过交换结构转发到对应的输出端口。</p>
<h5 id="转发表格式"><a class="markdownIt-Anchor" href="#转发表格式"></a> 转发表格式</h5>
<p>由于在网络层没有呼叫建立，路由器没有像端到端那样的连接概念，因此对分组的转发只能根据目的主机地址来确定。并且在同一个源-目的主机对中的分组可能走不同的路径，因为路由表是一张动态的表，会时常发生改变，即便是同一个传输层的连接也可能通过不同的路由器进行传输。</p>
<p>根据目的主机地址来转发的方法有最长前缀匹配法: 通过将分组发送到转发表内的匹配成功最长前缀项对应的输出链路来实现转发的功能。当转发表中有多个输出链路具有匹配前缀时，应当选取最长的匹配项作为输出链路。</p>
<p><img src="max_prefix_match.svg" srcset="/img/loading.gif" lazyload alt="最长前缀匹配" /><br />
通过示例的最长前缀匹配转发表可以知道，目的地址为<code>11001000 00010111 00010110 10100001</code>的分组应该转发到0号输出链路;目的地址为<code>11001000 00010111 00011000 10101010</code>的分组应该转发到1号输出链路。</p>
<h4 id="switch-structure交换结构"><a class="markdownIt-Anchor" href="#switch-structure交换结构"></a> Switch Structure(交换结构)</h4>
<p><strong>交换速度：分组从输入端到输出端的速度。</strong><br />
交换结构的功能是将分组从输入缓冲区交换到适当的输出缓冲区。目前主要有3种不同的交换结构，分别是:</p>
<ul>
<li>Switching via memory(内存交换): 为第一代路由器采用的方案，分组被拷贝到系统内存，然后由CPU的直接控制完成。速度受内存带宽限制 (每个分组需要两次经过总线，一次拷贝进内存一次由内存拷贝进输出链路缓存)。不支持同时传输多个分组。</li>
<li>Switching via bus(总线交换): 分组从输入端口缓存经过一根共享总线到达输出端口缓存。交换速率受总线带宽限制(一般来说对接入路由器和企业路由器足以)。不支持同时传输多个分组。</li>
<li>Switching via interconnection network(互联网络交换): 通过内部互连网络，克服总线带宽限制，并且<strong>支持同时传输到多个输出端口</strong>。</li>
</ul>
<p><img src="switch_structure.svg" srcset="/img/loading.gif" lazyload alt="交换结构" /></p>
<h4 id="output-port输出端口"><a class="markdownIt-Anchor" href="#output-port输出端口"></a> Output Port(输出端口)</h4>
<p><img src="output_port.svg" srcset="/img/loading.gif" lazyload alt="输出端口" /></p>
<h4 id="queueing排队"><a class="markdownIt-Anchor" href="#queueing排队"></a> Queueing(排队)</h4>
<p>当网络中需要传输的数据报过多时，就会产生一个排队，尽管输入链路和输出链路上存在一定的缓冲区，但大小终究是有限的，当缓冲区满时，新到的数据报会导致缓存的溢出，这样就会导致分组的丢失。根据排队的位置不同可以分为:</p>
<ul>
<li>
<p>输入端口排队: 当交换速度比所有输入端口的综合速度慢时就会导致输入端口产生排队，排队过长当溢出时就会导致分组的丢失。输入端口有一种特殊的阻塞: 线头阻塞Head-of-the-Line (HOL) blocking:排在队列前面的分组阻止队列中其他的分组向前移动，因为内存交换和总线交换无法同时对不同输出端口进行交换，导致了部分端口繁忙但是其他端口空闲总体却阻塞严重的情况。<br />
<img src="input_port_queueing.png" srcset="/img/loading.gif" lazyload alt="输入端口排队" /></p>
</li>
<li>
<p>输出端口排队: 当分组从交换结构到达的速率快于输出链路速率时,需要缓存就会产生排队，排队过长当溢出时就会导致分组的丢失。<br />
<img src="output_port_queueing.png" srcset="/img/loading.gif" lazyload alt="输出端口排队" /></p>
</li>
</ul>
<h2 id="the-internet-protocolip协议"><a class="markdownIt-Anchor" href="#the-internet-protocolip协议"></a> The Internet Protocol(IP协议)</h2>
<p><strong>IP地址: 分配给主机或路由器接口的32-bit标识符。</strong><br />
接口: 主机/路由器与物理链路之间的边界。</p>
<ul>
<li>路由器有多个接口</li>
<li>主机可以有多个接口</li>
<li>每个接口有一个IP地址</li>
</ul>
<p>IP地址:</p>
<ul>
<li>子网部分 (高位 bits)</li>
<li>主机部分 (低位 bits)</li>
</ul>
<h3 id="ipv4-datagram-formatipv4数据报格式"><a class="markdownIt-Anchor" href="#ipv4-datagram-formatipv4数据报格式"></a> IPv4 Datagram format(IPv4数据报格式)</h3>
<p><img src="ipv4_datagram.svg" srcset="/img/loading.gif" lazyload alt="IPv4数据报格式" /><br />
IPv4的典型首部为20Bytes(没有可变长的选项)。</p>
<ul>
<li>版本号: IPv4为4，IPv6具有自己的数据报格式。</li>
<li>头部长度: 头部长度是头部的字节数，不包括数据部分。<strong>注意，这个值是以4个字节为单位的。</strong></li>
<li>服务类型: 较少使用。</li>
<li>总长度: 数据报的总长度，包括头部和数据部分。<strong>注意，这个值是以单个字节为单位的。</strong></li>
<li>分片ID: 用于标识分片后的唯一标识，有助于分片后重组。</li>
<li>flag: 标志位，用于确定是否为最后一个分片(最后一片为1，非最后一片为0)。</li>
<li>offset: 偏移量，用于标识分片后的本片数据在原数据报的开始位置，可以保障是否丢片和用来重组。<strong>注意，这个值是以8个字节为单位的。</strong></li>
<li>ttl: 生存时间，路由器在路由到目的地之前，每过一个路由器这个字段的值会-1。</li>
<li>upper layer protocol: 协议类型，用于标识下一层协议。</li>
<li>校验和: 校验和用于校验数据报的正确性。</li>
<li>源IP地址和目的IP地址: 用以路由器转发。</li>
</ul>
<h3 id="ipv4-datagram-fregmentationipv4分片"><a class="markdownIt-Anchor" href="#ipv4-datagram-fregmentationipv4分片"></a> IPv4 Datagram Fregmentation(IPv4分片)</h3>
<p>网络链路有MTU(Maximum Transmission Unit)限制，不同的链路类型有不同的MTUs。因此在底层链路层采用不同链路类型，数据报允许的最大长度也不同，这样很难具有一个统一的标准并且链路不同段采用的类型也不同，数据报的大小会收到木桶效应的影响，对网络层造成了不好的影响，因此引入了分片和重组技术。</p>
<ul>
<li>分片: 大的IP数据报在网络中被划分，即一个数据报被分成多个小数据报，这些小数据报的长度不大于MTU。</li>
<li>分组: 最终目的地在收到数据报的片后进行重新组装成完整的初始数据报的操作。</li>
</ul>
<p><img src="fragmentation.svg" srcset="/img/loading.gif" lazyload alt="IPv4分片" /><br />
<img src="fragmentation_example.svg" srcset="/img/loading.gif" lazyload alt="example" /><br />
**注意: 分片后的数据报长度要算上头部长度后仍不超过MTU。**即MTU为1500bytes时，原数据报长度为4000bytes，其中数据部分为3980bytes，则第一个片只能承载1480bytes的数据部分，第二个片承载1480bytes的数据部分，第三片则承载1020btyes的数据部分，但每一片都有自己的20bytes的首部。分片在计算偏移量时不需要将头部长度加上，只需要对数据部分计算即可，<strong>千万记住offset的单位是8个字节！！！</strong>。</p>
<h3 id="ipv4-addressingipv4编址"><a class="markdownIt-Anchor" href="#ipv4-addressingipv4编址"></a> IPv4 Addressing(IPv4编址)</h3>
<p>子网: 为了确定子网，分开主机和路由器的每个接口，从而产生了几个分离的网络岛，这些独立网络中的每一个叫做一个子网</p>
<ul>
<li>设备接口的IP地址具有同样的网络部分</li>
<li>没有路由器的介入，物理上能够相互到达</li>
</ul>
<p><img src="subnet_example.svg" srcset="/img/loading.gif" lazyload alt="子网" /></p>
<p>子网掩码的功能：给定IP地址和子网掩码，即可获得该IP地址主机所在的网络地址(作掩码计算)。</p>
<ul>
<li>
<p>分类IP地址:<br />
<img src="subnet_mask.svg" srcset="/img/loading.gif" lazyload alt="子网掩码" /></p>
</li>
<li>
<p>Classless Inter-Domain Routing(无类域间路由)<br />
地址中的网络部分可以任意长。地址格式: a.b.c.d/x, 这里 x 是地址网络部分的bit数。<br />
<img src="subnet_cidr_example.svg" srcset="/img/loading.gif" lazyload alt="CIDR example" /></p>
</li>
</ul>
<h3 id="层次寻址和dhcp"><a class="markdownIt-Anchor" href="#层次寻址和dhcp"></a> 层次寻址和DHCP</h3>
<p>层次寻址允许有效的路由信息通告:<br />
<img src="Hierarchical_addressing.svg" srcset="/img/loading.gif" lazyload alt="层次寻址" /><br />
可以看出层次寻址能体现更加具体的路由关系，更加体现出子网存在的意义，也减少了网络核心区域的传输压力，但同时也引出了子网下IP分配的问题，对此DHCP(Dynamic Host Configuration Protocol)协议可以解决。</p>
<p>DHCP:</p>
<ul>
<li>允许主机在加入网络时从网络服务器动态得到IP地址</li>
<li>能够在使用时续借地址租用</li>
<li>允许重用地址 (只是连接时拥有地址）</li>
<li>支持准备加入网络的移动用户 (更简单)</li>
</ul>
<p><img src="dhcp.svg" srcset="/img/loading.gif" lazyload alt="DHCP" /></p>
<h3 id="internet-control-message-protocol控制消息协议"><a class="markdownIt-Anchor" href="#internet-control-message-protocol控制消息协议"></a> Internet Control Message Protocol(控制消息协议)</h3>
<p>ICMP是基于IP协议工作的，但是它并不是传输层的功能，因此仍然把它归结为网络层协议。<br />
ICMP的功能包括:</p>
<ul>
<li>确认IP包是否成功到达目标地址。</li>
<li>通知在发送过程中IP包被丢弃的原因。</li>
</ul>
<p>从上面ICMP的功能可以看出，ICMP就是一个​​&quot;错误侦测与回报机制”​&quot;，​​其目的就是让我们能够检测网路的连线状况﹐也能确保连线的准确性。<br />
<img src="icmp.svg" srcset="/img/loading.gif" lazyload alt="ICMP协议" /></p>
<h4 id="icmp主要运用"><a class="markdownIt-Anchor" href="#icmp主要运用"></a> ICMP主要运用</h4>
<ul>
<li>测试网络连通性和时延(ping)<br />
<img src="ping.svg" srcset="/img/loading.gif" lazyload alt="ping" /><br />
<img src="ping_example.png" srcset="/img/loading.gif" lazyload alt="ping" /></li>
<li>测试网络的可靠性(tracert)<br />
<img src="tracert.png" srcset="/img/loading.gif" lazyload alt="tracert" /></li>
</ul>
<h3 id="ipv6"><a class="markdownIt-Anchor" href="#ipv6"></a> IPv6</h3>
<p>初始动机: 32-bit地址空间即将用尽。<br />
其他动机:</p>
<ul>
<li>首部格式可帮助加速处理/转发</li>
<li>改变首部利于QoS要求</li>
</ul>
<p><img src="ipv6_datagram.svg" srcset="/img/loading.gif" lazyload alt="IPv6" /><br />
IPv6的特点:</p>
<ul>
<li>地址长度为128bit</li>
<li>不允许分片</li>
<li>首部固定为40bytes(不允许存在选项)</li>
</ul>
<h4 id="ipv4过渡到ipv6的方式"><a class="markdownIt-Anchor" href="#ipv4过渡到ipv6的方式"></a> IPv4过渡到IPv6的方式</h4>
<p>并不是所有的路由器都能够同时升级，所以不存在标志日。</p>
<ul>
<li>双栈: 一些路由器具有双重栈 (v6, v4) 能够在两种格式中转换。<br />
<img src="double_stack.svg" srcset="/img/loading.gif" lazyload alt="双栈方式" /></li>
<li>隧道: 在穿过IPv4路由器时，IPv6分组作为 IPv4分组的负载。<br />
<img src="tunnel.svg" srcset="/img/loading.gif" lazyload alt="隧道方式" /></li>
</ul>
<h3 id="nat"><a class="markdownIt-Anchor" href="#nat"></a> NAT</h3>
<p>具体见<a target="_blank" rel="noopener" href="https://www.overleaf.com/project/62342d1f865e4b293438089c">课程设计</a></p>
<h2 id="control-plane控制平面"><a class="markdownIt-Anchor" href="#control-plane控制平面"></a> Control Plane(控制平面)</h2>
<p>数据平面完成了逻辑上的转发功能，但前提要求是有一张路由表作为输入端口和输出端口间的映射，而控制平面的主要功能就是完成路由表的生成和更新，以及层次的选路算法。</p>
<h3 id="routing-algorithm选路算法"><a class="markdownIt-Anchor" href="#routing-algorithm选路算法"></a> Routing Algorithm(选路算法)</h3>
<p>选路算法根据当前掌握的信息不同而有不同的实现，如:</p>
<ul>
<li>具有全局信息——链路状态算法</li>
<li>仅知道直接相连的信息——距离矢量算法</li>
</ul>
<p>同时根据网络环境的不同也可以分为静态路由和动态路由两种，当链路质量相对稳定时，路由变化很慢，可以由人工进行设置最优或有所偏好的路由表。而当路由变化很快时，路由表需要时常更新，则需要选路算法来自适应链路状态的改变。</p>
<p>在控制平面的学习中主要还是考虑动态路由的实现，因此需要掌握链路状态路由协议和距离向量路由协议。</p>
<h4 id="the-link-state-routing-protocol链路状态路由协议"><a class="markdownIt-Anchor" href="#the-link-state-routing-protocol链路状态路由协议"></a> The Link-State Routing Protocol(链路状态路由协议)</h4>
<p>链路状态路由协议本质就是dijkstra算法的运用，在拥有全局信息的前提下可以找到从一个节点到任意一个节点的最短路径。<br />
重温dijkstra算法:<br />
<img src="dijkstra.svg" srcset="/img/loading.gif" lazyload alt="dijkstra算法" /><br />
<b>注意: 下一个加入trash点集的点为距离起点最近的点</b><br />
通过dijkstra算法可以算出从当前节点到其他所有节点的最短路径，并且可以给出沿途经过的节点从而得到下一跳的路由器IP，最终得到转发表。<br />
这里通过一个例子来详细说明如何使用dijkstra算法实现路由表计算:<br />
<img src="dijkstra_example.svg" srcset="/img/loading.gif" lazyload alt="example" /></p>
<p>在数据结构课程上有一个大作业就是利用dijkstra算法来实现路由表的生成与更新，当时并不知道链路状态路由协议是什么，但是通过对图的最短路径寻找同样能得到最优路由表。<br />
代码与实验报告在<a href="%E8%B7%AF%E7%94%B1%E5%8D%8F%E8%AE%AE%E8%AE%BE%E8%AE%A1%E5%AE%9E%E9%AA%8C.zip">点击下载: (路由协议设计实验)</a>，可以作为参考。</p>
<h4 id="the-distance-vector-routing-protocol距离向量路由协议"><a class="markdownIt-Anchor" href="#the-distance-vector-routing-protocol距离向量路由协议"></a> The Distance Vector Routing Protocol(距离向量路由协议)</h4>
<p>距离向量路由协议的算法基础为Bellman-Ford方程:</p>
<p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>d</mi><mi>x</mi></msub><mo stretchy="false">(</mo><mi>y</mi><mo stretchy="false">)</mo><mo>=</mo><mi>m</mi><mi>i</mi><msub><mi>n</mi><mi>v</mi></msub><mrow><mi>c</mi><mo stretchy="false">(</mo><mi>x</mi><mo separator="true">,</mo><mi>v</mi><mo stretchy="false">)</mo><mo>+</mo><msub><mi>d</mi><mi>v</mi></msub><mo stretchy="false">(</mo><mi>y</mi><mo stretchy="false">)</mo></mrow></mrow><annotation encoding="application/x-tex">d_x(y) = min_v{c(x,v) + d_v(y)}
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault">d</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">x</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">m</span><span class="mord mathdefault">i</span><span class="mord"><span class="mord mathdefault">n</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.03588em;">v</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathdefault">c</span><span class="mopen">(</span><span class="mord mathdefault">x</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">v</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord"><span class="mord mathdefault">d</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.03588em;">v</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="mclose">)</span></span></span></span></span></span></p>
<p><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>d</mi><mi>x</mi></msub><mo stretchy="false">(</mo><mi>y</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">d_x(y)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault">d</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">x</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="mclose">)</span></span></span></span>是从x到y的具有最低开销路径的开销值，V是x的相邻节点，<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>m</mi><mi>i</mi><msub><mi>n</mi><mi>v</mi></msub></mrow><annotation encoding="application/x-tex">min_v</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.80952em;vertical-align:-0.15em;"></span><span class="mord mathdefault">m</span><span class="mord mathdefault">i</span><span class="mord"><span class="mord mathdefault">n</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.03588em;">v</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>是对于与x相连的所有邻居而言。</p>
<p>距离向量的基本思想是每个节点周期性的给相邻节点发送自己的距离向量估值，当节点x从它的任何一个邻居v收到一个新的距离向量估值,就使用B-F 方程更新自己的距离向量估值。从远处节点的链路状态改变后需要时间逐渐传向起点的路由器，因此距离向量路由协议是一个随着时间而收敛的路由算法，新的最优路径无法瞬间得到，但链路状态路由协议如果不考虑算法计算的时间则是瞬间即可得到新路径的算法。<br />
<img src="distance_vector_example.svg" srcset="/img/loading.gif" lazyload alt="example" /><br />
<img src="distance_vector_solution.svg" srcset="/img/loading.gif" lazyload alt="example" /></p>
<h4 id="comparation-of-ls-and-dv链路状态和距离向量的比较"><a class="markdownIt-Anchor" href="#comparation-of-ls-and-dv链路状态和距离向量的比较"></a> Comparation of LS and DV(链路状态和距离向量的比较)</h4>
<p><img src="ls_dv_comparation.svg" srcset="/img/loading.gif" lazyload alt="比较" /></p>
<h3 id="internets-routing-protocol互联网的路由协议"><a class="markdownIt-Anchor" href="#internets-routing-protocol互联网的路由协议"></a> Internet’s Routing Protocol(互联网的路由协议)</h3>
<p>迄今为止，我们的路由研究都是理想化的，所有路由器一样的，网络是平面的，但实际中并不是这样的。<br />
因为Internet具有超过20亿个节点，路由表中不可能存储所有的节点。路由表的信息交换将淹没数据链路。同时由于具有很多子网具有自己的路由规则，并不按照最短路径来安排路由。</p>
<p><b>AS: 一个区域内的路由器组成集合称为自治系统。</b>同一个自治系统的路由器运行相同的路由协议，不同的AS内可以运行不同的区域内路由协议。<br />
网关路由器: 和其他自治系统内的路由器直接相连的路由器，运行域间路由协议，与其他网关路由器交互，同自治系统内的所有其他路由器一样也运行域内路由协议。即<b>网关路由器同时运行域间和域内2种路由协议。</b></p>
<h3 id="域间选路"><a class="markdownIt-Anchor" href="#域间选路"></a> 域间选路</h3>
<p>AS互联: AS内的路由器接收到了目的端是AS外的分组，则路由器需要将分组转发给网关路由器，而网关路由器则需要将自己连接到的AS信息传播给AS内的所有路由器，这样就能实现AS互联。</p>
<h4 id="border-gateway-protocol边界网关协议"><a class="markdownIt-Anchor" href="#border-gateway-protocol边界网关协议"></a> Border Gateway Protocol(边界网关协议)</h4>
<p>BGP提高的服务:</p>
<ul>
<li>从相邻AS获取子网可达信息。</li>
<li>向网关路由器所在AS内部的所有路由器传播这些可达性信息。</li>
<li>基于该可达信息和AS策略，决定到达子网的&quot;好&quot;路由。</li>
<li>宣布AS的存在。<br />
<img src="bgp_example.svg" srcset="/img/loading.gif" lazyload alt="example" /></li>
</ul>
<p>eBGP: 域间路由协议。(external)<br />
iBGP: 域内路由协议。(internal)</p>
<h4 id="hot-potato热土豆"><a class="markdownIt-Anchor" href="#hot-potato热土豆"></a> Hot Potato(热土豆)</h4>
<p>Hot Potato: 当AS内路由器知道某分组通过多个AS均可到达，热土豆原则就会选择将该分组转发给最近的网关路由器。</p>
<h3 id="域内选路"><a class="markdownIt-Anchor" href="#域内选路"></a> 域内选路</h3>
<p>也被称为Internal Gateway Protocol(内部网关协议)，它是一种域内路由协议，它的目的是为了解决域间路由协议的不足。</p>
<h4 id="routing-information-protocol路由信息协议"><a class="markdownIt-Anchor" href="#routing-information-protocol路由信息协议"></a> Routing Information Protocol(路由信息协议)</h4>
<p>RIP协议: 采用距离向量算法，对距离的衡量通过跳数。距离向量: 每隔30秒,通过响应报文在邻居间进行交换(也被称为RIP通告，通过UDP报文发送)。<br />
<img src="rip.svg" srcset="/img/loading.gif" lazyload alt="RIP" /><br />
链路失败及恢复: 若180秒后没有收到通告，则认为邻居死机或链路中断，通过故障邻居的路由失败，新的公告发送给其他邻居，链路故障信息快速传播到整个网络。<br />
毒性逆转用于防止乒乓循环(无限距离 = 16 跳)。当收到无限距离的包时会直接丢弃。</p>
<h4 id="open-shortest-path-first短路径优先"><a class="markdownIt-Anchor" href="#open-shortest-path-first短路径优先"></a> Open Shortest Path First(短路径优先)</h4>
<p>OSPF采用链路状态算法 ，路由器会分发LS分组，每个节点都具有拓扑图，路由计算使用dijkstra算法。<strong>注意: OSPF信息直接通过IP传输而不是TCP和UDP。</strong><br />
OSPF的优点:</p>
<ul>
<li>安全: 所有OSPF 消息需要认证 (防止恶意入侵)</li>
<li>允许多个相同开销的路径(在RIP中只有一条路径)</li>
<li>对于每个链路, 有多个消费尺度用于不同的服务类型TOS</li>
<li>单播和多播综合支持: 多播OSPF(MOSPF)使用和OSPF同样的链路数据库</li>
</ul>
<p>在大区域内采用层次OSPF:<br />
<img src="ospf.svg" srcset="/img/loading.gif" lazyload alt="层次OSPF" /></p>
<h2 id="review"><a class="markdownIt-Anchor" href="#review"></a> Review</h2>
<p><img src="review1.svg" srcset="/img/loading.gif" lazyload alt="Review" /><br />
<img src="review2.svg" srcset="/img/loading.gif" lazyload alt="Review" /><br />
<img src="review3.svg" srcset="/img/loading.gif" lazyload alt="Review" /><br />
<img src="review4.svg" srcset="/img/loading.gif" lazyload alt="Review" /><br />
<img src="review5.svg" srcset="/img/loading.gif" lazyload alt="Review" /><br />
<img src="review6.svg" srcset="/img/loading.gif" lazyload alt="Review" /><br />
<img src="review7.svg" srcset="/img/loading.gif" lazyload alt="Review" /><br />
<img src="review8.svg" srcset="/img/loading.gif" lazyload alt="Review" /></p>

            </div>
            <hr>
            <div>
              <div class="post-metas mb-3">
                
                
                  <div class="post-meta">
                    <i class="iconfont icon-tags"></i>
                    
                      <a class="hover-with-bg" href="/tags/Computer-Network/">Computer Network</a>
                    
                  </div>
                
              </div>
              
                <p class="note note-warning">
                  
                    本博客所有文章除特别声明外，均采用 <a target="_blank" href="https://creativecommons.org/licenses/by-sa/4.0/deed.zh" rel="nofollow noopener noopener">CC BY-SA 4.0 协议</a> ，转载请注明出处！
                  
                </p>
              
              
                <div class="post-prevnext">
                  <article class="post-prev col-6">
                    
                    
                      <a href="/2022/05/29/Computer-Network-Chapter-5/">
                        <i class="iconfont icon-arrowleft"></i>
                        <span class="hidden-mobile">Computer Network Chapter 5</span>
                        <span class="visible-mobile">Previous</span>
                      </a>
                    
                  </article>
                  <article class="post-next col-6">
                    
                    
                      <a href="/2022/05/26/Computer-Network-Chapter-3/">
                        <span class="hidden-mobile">Computer Network Chapter 3</span>
                        <span class="visible-mobile">Next</span>
                        <i class="iconfont icon-arrowright"></i>
                      </a>
                    
                  </article>
                </div>
              
            </div>

            
              <!-- Comments -->
              <article class="comments" id="comments" lazyload>
                
                  
                
                
  <script type="text/javascript">
    Fluid.utils.loadComments('#comments', function() {
      var light = 'github-light';
      var dark = 'github-dark';
      var schema = document.documentElement.getAttribute('data-user-color-scheme');
      if (schema === 'dark') {
        schema = dark;
      } else {
        schema = light;
      }
      window.UtterancesThemeLight = light;
      window.UtterancesThemeDark = dark;
      var s = document.createElement('script');
      s.setAttribute('src', 'https://utteranc.es/client.js');
      s.setAttribute('repo', 'Thm-lab/blog_commit');
      s.setAttribute('issue-term', 'title');
      
      s.setAttribute('theme', schema);
      s.setAttribute('crossorigin', 'anonymous');
      document.getElementById('comments').appendChild(s);
    })
  </script>
  <noscript>Please enable JavaScript to view the comments</noscript>


              </article>
            
          </article>
        </div>
      </div>
    </div>
    
      <div class="d-none d-lg-block col-lg-2 toc-container" id="toc-ctn">
        <div id="toc">
  <p class="toc-header"><i class="iconfont icon-list"></i>&nbsp;TOC</p>
  <div class="toc-body" id="toc-body"></div>
</div>

      </div>
    
  </div>
</div>

<!-- Custom -->


    

    
      <a id="scroll-top-button" aria-label="TOP" href="#" role="button">
        <i class="iconfont icon-arrowup" aria-hidden="true"></i>
      </a>
    

    
      <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">Search</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v"
                 for="local-search-input">keyword</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>
    

    
  </main>

  <footer class="text-center mt-5 py-3">
  <div class="footer-content">
     <a href="https://hexo.io" target="_blank" rel="nofollow noopener"><span>Hexo</span></a> <i class="iconfont icon-love"></i> <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener"><span>Fluid</span></a> 
  </div>
  

  

  
</footer>


  <!-- SCRIPTS -->
  
  <script  src="https://cdn.jsdelivr.net/npm/nprogress@0/nprogress.min.js" ></script>
  <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/nprogress@0/nprogress.min.css" />

  <script>
    NProgress.configure({"showSpinner":false,"trickleSpeed":100})
    NProgress.start()
    window.addEventListener('load', function() {
      NProgress.done();
    })
  </script>


<script  src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js" ></script>
<script  src="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/js/bootstrap.min.js" ></script>
<script  src="/js/events.js" ></script>
<script  src="/js/plugins.js" ></script>

<!-- Plugins -->


  <script  src="/js/local-search.js" ></script>



  
    <script  src="/js/img-lazyload.js" ></script>
  



  



  
    <script  src="https://cdn.jsdelivr.net/npm/tocbot@4/dist/tocbot.min.js" ></script>
  
  
    <script  src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3/dist/jquery.fancybox.min.js" ></script>
  
  
    <script  src="https://cdn.jsdelivr.net/npm/anchor-js@4/anchor.min.js" ></script>
  
  
    <script defer src="https://cdn.jsdelivr.net/npm/clipboard@2/dist/clipboard.min.js" ></script>
  






  <script  src="https://cdn.jsdelivr.net/npm/typed.js@2/lib/typed.min.js" ></script>
  <script>
    (function (window, document) {
      var typing = Fluid.plugins.typing;
      var title = document.getElementById('subtitle').title;
      
        typing(title);
      
    })(window, document);
  </script>





  

  
    <!-- KaTeX -->
    <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0/dist/katex.min.css" />
  











<!-- 主题的启动项 保持在最底部 -->
<script  src="/js/boot.js" ></script>


</body>
</html>
