<svg width="960" height="720" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" overflow="hidden"><defs><clipPath id="clip0"><rect x="0" y="0" width="960" height="720"/></clipPath></defs><g clip-path="url(#clip0)"><rect x="0" y="0" width="960" height="720" fill="#FFFFFF"/><text font-family="DengXian Light,DengXian Light_MSFontService,sans-serif" font-weight="300" font-size="53" transform="translate(271.5 87)">rdt2.0: FSM <tspan font-size="53" x="267.167" y="0">规范</tspan><tspan fill="#919293" font-family="Arial,Arial_MSFontService,sans-serif" font-weight="400" font-size="19" x="592.167" y="606">26</tspan><tspan font-family="Arial,Arial_MSFontService,sans-serif" font-weight="700" font-size="21" x="366.5" y="521">extract(rcvpkt,data)</tspan><tspan font-family="Arial,Arial_MSFontService,sans-serif" font-weight="700" font-size="21" x="366.5" y="546">deliver_data(data)</tspan><tspan font-family="Arial,Arial_MSFontService,sans-serif" font-weight="700" font-size="21" x="366.5" y="572">udt_send(ACK)</tspan><tspan font-family="Arial,Arial_MSFontService,sans-serif" font-weight="700" font-size="21" x="363.333" y="455">rdt_rcv(rcvpkt) &amp;&amp; </tspan><tspan font-family="Arial,Arial_MSFontService,sans-serif" font-weight="700" font-size="21" x="381.333" y="480">notcorrupt(rcvpkt)</tspan></text><path d="M643.5 589.5 854.5 589.5" stroke="#000000" stroke-width="2.66667" stroke-linejoin="round" stroke-miterlimit="10" fill="none" fill-rule="evenodd"/><text font-family="Arial,Arial_MSFontService,sans-serif" font-weight="700" font-size="21" transform="translate(674 316)">udt_send(NAK)<tspan font-size="21" x="0.666626" y="-75">rdt_rcv(rcvpkt) &amp;&amp; </tspan><tspan font-size="21" x="12.6666" y="-50">corrupt(rcvpkt)</tspan></text><path d="M679.5 290.5 819.5 290.5" stroke="#000000" stroke-width="2.66667" stroke-linejoin="round" stroke-miterlimit="10" fill="none" fill-rule="evenodd"/><path d="M631.081 356.3 640.682 360.946 639.521 363.346 629.919 358.7ZM647.884 364.43 657.485 369.076 656.324 371.477 646.722 366.831ZM664.687 372.561 674.288 377.207 673.127 379.607 663.525 374.961ZM681.49 380.691 688.28 383.977 687.118 386.377 680.328 383.092ZM687.699 385.177 687.041 380.415 692.5 387.5 683.557 387.616Z"/><path d="M720.901 367.733 717.568 362.88C717.529 362.824 717.494 362.764 717.464 362.702L715.298 358.184C715.259 358.103 715.228 358.017 715.206 357.93L714.206 353.914C714.18 353.808 714.167 353.7 714.167 353.592L714.167 349.743C714.167 349.614 714.186 349.485 714.223 349.361L715.223 346.015C715.25 345.923 715.287 345.835 715.333 345.751L717 342.739C717.06 342.631 717.135 342.531 717.222 342.444L719.889 339.766C719.933 339.722 719.981 339.68 720.031 339.642L723.365 337.132C723.429 337.084 723.497 337.042 723.569 337.006L727.569 334.998 732.162 333.115 737.322 331.722 742.714 330.536 754.346 329.176 766.5 329.167 778.3 330.345 789.463 332.881 794.59 334.59 799.172 336.461 803.304 338.699C803.361 338.73 803.417 338.766 803.469 338.805L806.802 341.315C806.863 341.361 806.92 341.413 806.973 341.469L809.639 344.313C809.715 344.394 809.78 344.483 809.833 344.58L811.5 347.592C811.546 347.675 811.583 347.764 811.611 347.855L812.611 351.202C812.648 351.326 812.667 351.454 812.667 351.584L812.667 355.098C812.667 355.224 812.649 355.349 812.614 355.47L811.447 359.486C811.427 359.555 811.401 359.623 811.37 359.689L809.37 363.872C809.325 363.965 809.27 364.052 809.206 364.133L805.706 368.483 804.708 369.495C804.189 370.017 803.345 370.018 802.823 369.499 802.301 368.979 802.299 368.135 802.819 367.613L803.628 366.812 807.128 362.461 806.964 362.722 808.964 358.538 808.886 358.742 810.053 354.726 810 355.098 810 351.584 810.056 351.965 809.056 348.619 809.167 348.883 807.5 345.871 807.694 346.137 805.027 343.292 805.198 343.446 801.865 340.936 802.03 341.042 798.162 338.929 793.744 337.119 788.87 335.481 778.034 332.998 766.5 331.833 754.654 331.824 743.286 333.141 738.012 334.298 733.172 335.583 728.765 337.381 724.765 339.389 724.969 339.262 721.635 341.772 721.778 341.648 719.111 344.325 719.333 344.03 717.667 347.042 717.778 346.778 716.778 350.125 716.833 349.743 716.833 353.592 716.794 353.27 717.794 357.285 717.702 357.031 719.869 361.549 719.766 361.371 723.099 366.223C723.516 366.83 723.362 367.66 722.755 368.077 722.148 368.494 721.318 368.34 720.901 367.733ZM803.764 368.554 808.48 369.487 800 372.333 802.812 363.842Z"/><path d="M691.5 425.5C691.5 392.363 723.064 365.5 762 365.5 800.936 365.5 832.5 392.363 832.5 425.5 832.5 458.637 800.936 485.5 762 485.5 723.064 485.5 691.5 458.637 691.5 425.5Z" stroke="#000000" stroke-width="1.33333" stroke-linejoin="round" stroke-miterlimit="10" fill="#FFFFFF" fill-rule="evenodd"/><text font-family="SimHei,SimHei_MSFontService,sans-serif" font-weight="700" font-size="21" transform="translate(688.833 429)">等待来自下层的<tspan font-size="21" x="53.7466" y="24">调用</tspan></text><path d="M725.235 483.82 721.735 488.505 721.869 488.284 719.702 492.802 719.794 492.547 718.794 496.563 718.833 496.241 718.833 500.09 718.778 499.708 719.778 503.055 719.667 502.791 721.333 505.803 721.139 505.536 723.806 508.381 723.6 508.202 726.933 510.545 726.765 510.444 730.765 512.452 735.172 514.25 740.051 515.713 745.247 516.684 756.654 518.008 768.5 517.999 780.202 516.835 790.866 514.353 795.782 512.869 800.123 510.92 804.03 508.791 803.865 508.897 807.198 506.387 807.027 506.54 809.694 503.696 809.5 503.962 811.167 500.95 811.056 501.214 812.056 497.867 812 498.249 812 494.568 812.043 494.903 811.043 491.055 811.149 491.332 808.983 487.149 809.128 487.372 805.628 483.021 804.819 482.22C804.299 481.698 804.301 480.854 804.823 480.334 805.345 479.814 806.189 479.816 806.708 480.338L807.706 481.35 811.206 485.7C811.261 485.769 811.31 485.844 811.351 485.923L813.517 490.106C813.563 490.194 813.599 490.288 813.624 490.384L814.624 494.232C814.652 494.342 814.667 494.455 814.667 494.568L814.667 498.249C814.667 498.378 814.648 498.507 814.611 498.631L813.611 501.977C813.583 502.069 813.546 502.158 813.5 502.241L811.833 505.253C811.78 505.35 811.715 505.439 811.639 505.52L808.973 508.364C808.92 508.42 808.863 508.471 808.802 508.517L805.469 511.027C805.417 511.067 805.361 511.102 805.304 511.134L801.21 513.355 796.551 515.422 791.468 516.95 780.465 519.488 768.5 520.666 756.346 520.657 744.753 519.304 739.282 518.267 734.162 516.718 729.569 514.835 725.569 512.827C725.51 512.798 725.454 512.764 725.4 512.726L722.067 510.384C721.992 510.331 721.923 510.271 721.861 510.205L719.194 507.36C719.119 507.28 719.053 507.19 719 507.094L717.333 504.082C717.287 503.998 717.25 503.91 717.223 503.818L716.223 500.471C716.186 500.348 716.167 500.219 716.167 500.09L716.167 496.241C716.167 496.133 716.18 496.024 716.206 495.919L717.206 491.903C717.228 491.815 717.259 491.73 717.298 491.649L719.464 487.131C719.502 487.053 719.547 486.979 719.599 486.909L723.099 482.224C723.539 481.634 724.375 481.513 724.965 481.954 725.555 482.395 725.676 483.23 725.235 483.82ZM805.764 481.279 804.812 485.991 802 477.5 810.48 480.345Z"/><text fill="#FF0000" font-family="Comic Sans MS,Comic Sans MS_MSFontService,sans-serif" font-weight="700" font-size="32" transform="translate(702.667 170)">receiver</text><path d="M77.5001 380C77.5001 334.989 103.244 298.5 135 298.5 166.756 298.5 192.5 334.989 192.5 380 192.5 425.011 166.756 461.5 135 461.5 103.244 461.5 77.5001 425.011 77.5001 380Z" stroke="#000000" stroke-width="1.33333" stroke-linejoin="round" stroke-miterlimit="10" fill="#FFFFFF" fill-rule="evenodd"/><text font-family="SimHei,SimHei_MSFontService,sans-serif" font-weight="700" font-size="21" transform="translate(81.0001 363)">等待来自上<tspan font-size="21" x="10.7467" y="24">层的调用</tspan><tspan font-family="Arial,Arial_MSFontService,sans-serif" font-size="21" x="52.9999" y="-139">snkpkt = make_pkt(data, checksum)</tspan><tspan font-family="Arial,Arial_MSFontService,sans-serif" font-size="21" x="52.9999" y="-114">udt_send(sndpkt)</tspan></text><path d="M125.5 182.5 240.5 182.5" stroke="#000000" stroke-width="2.66667" stroke-linejoin="round" stroke-miterlimit="10" fill="none" fill-rule="evenodd"/><path d="M118.213 298.984 119.213 295.278C119.244 295.164 119.289 295.054 119.349 294.952L121.516 291.246C121.566 291.16 121.626 291.079 121.694 291.007L124.694 287.806C124.751 287.745 124.814 287.689 124.882 287.639L129.049 284.607 133.987 281.674 139.97 279.07 146.545 276.681 153.63 274.632 161.353 272.764 169.59 271.233 187.324 268.863 206.238 267.507 225.643 267.167 244.88 267.841 263.608 269.361 281.026 271.898 289.082 273.424 296.653 275.293 303.545 277.33 309.965 279.718 315.557 282.283 320.334 285.036C320.398 285.073 320.459 285.115 320.516 285.163L324.183 288.195C324.238 288.24 324.288 288.289 324.335 288.342L327.001 291.375C327.073 291.456 327.134 291.546 327.184 291.642L328.176 293.556C328.515 294.21 328.259 295.015 327.605 295.354 326.952 295.692 326.147 295.437 325.808 294.783L324.816 292.869 324.999 293.136 322.332 290.103 322.484 290.25 318.817 287.218 319 287.345 314.443 284.706 309.035 282.217 302.788 279.887 296.014 277.881 288.585 276.044 280.641 274.537 263.392 272.019 244.787 270.506 225.69 269.833 206.429 270.167 187.676 271.506 170.077 273.854 161.98 275.356 154.37 277.194 147.455 279.188 141.03 281.517 135.346 283.968 130.618 286.763 126.451 289.795 126.64 289.629 123.64 292.83 123.818 292.591 121.651 296.298 121.787 295.972 120.787 299.679C120.596 300.39 119.864 300.811 119.153 300.619 118.442 300.427 118.021 299.695 118.213 298.984ZM326.992 294.17 330.193 290.583 328.333 299.332 322.45 292.595Z"/><path d="M127.357 457.852 128.806 460.216 128.665 460.026 131.667 463.396 131.456 463.204 135.626 466.237 140.358 469.032 145.893 471.489 152.31 473.812 159.389 475.804 166.986 477.469 175.117 478.977 192.731 481.325 211.498 482.665 230.608 482.998 249.731 482.493 268.328 480.813 285.616 478.461 293.527 476.793 300.988 474.95 307.768 472.944 314.049 470.772 319.403 468.14 323.993 465.487 327.509 462.726 327.305 462.923 329.974 459.722 329.827 459.939 331.662 456.569 331.512 457.028 332.012 453.322C332.11 452.592 332.782 452.08 333.512 452.179 334.241 452.277 334.753 452.949 334.655 453.678L334.154 457.385C334.132 457.546 334.082 457.702 334.004 457.844L332.169 461.214C332.127 461.29 332.078 461.363 332.022 461.43L329.353 464.631C329.293 464.704 329.224 464.77 329.15 464.828L325.326 467.796 320.576 470.534 314.92 473.293 308.525 475.502 301.627 477.539 294.076 479.403 285.975 481.104 268.568 483.469 249.802 485.159 230.561 485.665 211.308 485.325 192.378 483.968 174.63 481.599 166.414 480.074 158.666 478.37 151.401 476.319 144.807 473.924 138.999 471.327 134.057 468.394 129.887 465.361C129.81 465.305 129.74 465.241 129.676 465.17L126.674 461.8C126.621 461.741 126.574 461.677 126.532 461.61L125.083 459.245C124.698 458.617 124.895 457.796 125.523 457.412 126.151 457.027 126.972 457.224 127.357 457.852ZM126.22 458.548 123.294 462.363 124.5 453.5 130.866 459.783Z"/><text font-family="Arial,Arial_MSFontService,sans-serif" font-weight="700" font-size="21" transform="translate(130 539)">rdt_rcv(rcvpkt) &amp;&amp; isACK(rcvpkt)</text><path d="M132.5 568.5 247.5 568.5" stroke="#000000" stroke-width="2.66667" stroke-linejoin="round" stroke-miterlimit="10" fill="none" fill-rule="evenodd"/><path d="M373.222 336.222 377.928 334.059C377.969 334.04 378.013 334.025 378.057 334.015L382.427 333.017C382.467 333.007 382.508 333.002 382.549 333L386.751 332.834C386.809 332.832 386.867 332.837 386.924 332.85L390.621 333.682 394.24 335.039C394.283 335.056 394.326 335.077 394.365 335.103L397.726 337.266C397.765 337.291 397.802 337.32 397.835 337.352L400.692 340.181 403.44 343.742 405.839 347.804 407.886 352.187 409.75 356.881 411.12 362.117 413.147 372.979 413.997 384.366 413.494 395.759 411.806 406.483 410.446 411.544 408.749 416.255 406.705 420.48 404.32 424.365 401.752 427.593C401.728 427.624 401.701 427.652 401.672 427.678L398.646 430.34C398.609 430.373 398.568 430.401 398.525 430.425L395.163 432.255C395.128 432.274 395.091 432.29 395.054 432.303L391.524 433.468C391.484 433.481 391.443 433.49 391.401 433.496L387.535 433.995C387.482 434.002 387.427 434.002 387.374 433.996L383.004 433.497C382.959 433.492 382.914 433.482 382.871 433.468L378.333 431.97 378.062 431.85C377.728 431.695 377.582 431.299 377.736 430.965 377.891 430.631 378.287 430.485 378.621 430.639L378.751 430.704 383.289 432.201 383.156 432.172 387.525 432.671 387.364 432.672 391.23 432.173 391.106 432.201 394.636 431.037 394.526 431.084 397.887 429.254 397.766 429.339 400.791 426.677 400.71 426.762 403.184 423.667 405.505 419.898 407.495 415.803 409.159 411.197 410.489 406.275 412.162 395.7 412.667 384.465 411.836 373.223 409.83 362.454 408.511 357.373 406.677 352.75 404.69 348.481 402.384 344.556 399.754 341.129 396.897 338.3 397.005 338.387 393.643 336.224 393.769 336.287 390.328 334.982 386.631 334.15 386.804 334.166 382.602 334.333 382.724 334.316 378.354 335.315 378.484 335.271 373.779 337.434C373.444 337.587 373.048 337.441 372.894 337.106 372.741 336.772 372.887 336.376 373.222 336.222ZM378.342 431.244 379.085 435.994 373.5 429.008 382.44 428.732Z"/><text font-family="Arial,Arial_MSFontService,sans-serif" font-weight="700" font-size="21" transform="translate(418.833 388)">udt_send(sndpkt)<tspan font-size="21" x="-3" y="-114">rdt_rcv(rcvpkt) &amp;&amp;</tspan><tspan font-size="21" x="15" y="-89">isNAK(rcvpkt)</tspan></text><path d="M420.5 362.5 535.5 362.5" stroke="#000000" stroke-width="2.66667" stroke-linejoin="round" stroke-miterlimit="10" fill="none" fill-rule="evenodd"/><path d="M266.5 380C266.5 334.989 292.244 298.5 324 298.5 355.756 298.5 381.5 334.989 381.5 380 381.5 425.011 355.756 461.5 324 461.5 292.244 461.5 266.5 425.011 266.5 380Z" stroke="#000000" stroke-width="1.33333" stroke-linejoin="round" stroke-miterlimit="10" fill="#FFFFFF" fill-rule="evenodd"/><text font-family="SimHei,SimHei_MSFontService,sans-serif" font-weight="700" font-size="21" transform="translate(277.063 363)">等待<tspan font-family="Arial,Arial_MSFontService,sans-serif" font-size="21" x="48.2067" y="0">ACK </tspan><tspan font-size="21" x="13.3533" y="25">或</tspan><tspan font-family="Arial,Arial_MSFontService,sans-serif" font-size="21" x="34.8533" y="25">NAK</tspan><tspan fill="#FF0000" font-family="Comic Sans MS,Comic Sans MS_MSFontService,sans-serif" font-size="32" x="-105.063" y="283">sender</tspan></text><path d="M38.3455 288.469 46.5937 295.233 44.9028 297.295 36.6546 290.531ZM52.7798 300.305 61.028 307.069 59.3371 309.131 51.0889 302.367ZM67.2142 312.141 75.4623 318.905 73.7715 320.967 65.5233 314.203ZM81.6485 323.977 84.2215 326.087 82.5306 328.149 79.9576 326.04ZM83.376 327.118 83.8502 322.334 87.5001 330.5 78.7776 328.52Z"/><text font-family="Arial,Arial_MSFontService,sans-serif" font-weight="700" font-size="21" transform="translate(125.5 153)">rdt_send(data)<tspan font-family="Symbol,Symbol_MSFontService,sans-serif" font-size="21" x="51.4999" y="435">L</tspan></text></g></svg>